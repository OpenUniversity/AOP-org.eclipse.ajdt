
Tests for code formatting (Source>Format or Ctrl+Shift+F on Windows)
-------------------------

1. Checkout "CodeFormat" project from "test projects" folder, and open BoundPoint.aj in the editor

2. Select the "Format" operation to format the entire buffer.

Check for the following:

3. The setter pointcut should look like this:

	pointcut setter(Point p): call(void Point.set*(*))
&& target(p);

4. The comment before the around advice should look like this:

	/**
	 * Advice to get the property change event fired when the setters are
	 * called. It's around advice because you need the old value of the
	 * property.
	 */
	 
5. The around advice itself should look like this:

	void around(Point p): setter(p) {
		String propertyName = thisJoinPointStaticPart.getSignature().getName()
				.substring("set".length());
		int oldX = p.getX();
		int oldY = p.getY();
		proceed(p);
		if (propertyName.equals("X")) {
			firePropertyChange(p, propertyName, oldX, p.getX());
		} else {
			firePropertyChange(p, propertyName, oldY, p.getY());
		}
	}

6. The firePropertyChange method should look like this:

	void firePropertyChange(Point p, String property, double oldval,
			double newval) {
		p.support.firePropertyChange(property, new Double(oldval), new Double(
				newval));
	}

7. Check that the aspect is still "privileged" (bug 78023)

8. Now save the buffer and check it builds with no errors.

	 