<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
<link rel="STYLESHEET" href="book.css" charset="ISO-8859-1" type="text/css">
    <title>AJDT 1.2.0 M3 - New and Noteworthy</title>
  </head>

  <body>
    <h1>AJDT 1.2.0 M3 - New and Noteworthy</h1>

<table border="0" cellpadding="10" cellspacing="0" width="80%">

  <tr>
    <td colspan="2">
      <hr>
    </td>
  </tr>

  <tr>
    <td width="30%" valign="top" align="left">
      <p align="right"><b>Overview</b></td>
    <td width="70%" valign="top">

      <p>Continuing on from the changes in M2, the focus is still very
      much on working with the rest of Eclipse, and the JDT in
      particular, instead of changing its default behaviour. This
      means the Java editor should only be used for .java files, and
      the AspectJ editor only used for .aj files, and all AspectJ code
      should be contained in .aj files. If you don't follow this
      arrangement, you will hit problems, but that's actually to be
      expected, at least by those not familiar with AJDT 1.1.x (which
      globally overrode the Java editor with the AspectJ editor). In
      general, if you enter non-Java code into the Java editor in a
      .java file you shouldn't expect it to work.</p>

      <p>Being a milestone release, this is a work in progress, but
      feedback on these changes is very welcome. The newsgroup and
      mailing lists are the best places for this.</p>
    </td>
  </tr>

  <tr>
    <td colspan="2">
      <hr>
    </td>
  </tr>

  <tr>
    <td width="30%" valign="top" align="left">
      <p align="right"><b>Quick Cross References</b></td>
    <td width="70%" valign="top">

      <p>This view, which was introduced in M2, is now also available
      in-place, like the quick outline.</p>

      <img src="quickxref.png" width="434" height="332">

      <p>The default key binding to show this view is
      "Ctrl+Alt+X". This can be customized via Preferences &gt;
      Workbench &gt; Keys. Pressing the key combination once shows you
      the crosscutting information for the current element, pressing
      it a second time will show the crosscutting information for the
      entire file.</p>

    </td>
  </tr>

  <tr>
    <td colspan="2">
      <hr>
    </td>
  </tr>

  <tr>
    <td width="30%" valign="top" align="left">
      <p align="right"><b>Errors as you type</b></td>

    <td width="70%" valign="top">
      <p>Return of the red squiggles! Early problem indication has
      typically been turned off when working with AJDT because the
      Java eager parser doesn't understand AspectJ syntax. But now it
      can be turned back on if desired, because aspects contained in
      .aj files and opened with the AspectJ editor can now make use of
      an AspectJ eager parser to highlight syntax problems as you
      type.
      </p>

      <img src="errorsasyoutype.png" width="434" height="99">

      <p>The AspectJ early problem indication support is enabled and
      disabled using the same option as the Java support. With Eclipse
      3.0 this option is <b>Preferences &gt; Java &gt; Editor &gt;
      Typing &gt; Analyze annotations while typing,</b> and with
      Eclipse 3.1, it's <b>Preferences &gt; Java &gt; Editor &gt;
      Typing &gt; Other settings &gt; Report problems as you
      type.</b></p>

    </td>
  </tr>

  <tr>
    <td colspan="2">
      <hr>

    </td>
  </tr>

  <tr>
    <td width="30%" valign="top" align="left">
      <p align="right"><b>Visible Project options</b></td>
    <td width="70%" valign="top">

      <p>In Eclipse 3.1, when project-specific changes are made to the
      Java compiler settings, these are saved in preference files
      under a ".settings" folder in the project. This enables the
      settings to be shared between workspaces and other developers,
      by checking the preference files into CVS. This same mechanism
      is now used for AspectJ compiler and project
      settings. Furthermore, the same functionality is available with
      both Eclipse 3.0 and 3.1.</p>

      <p>The ".settings" folder is only created when created. If you
      define project-specific AspectJ compiler settings, they will be
      stored in a file called "org.eclipse.ajdt.core.prefs". Other
      project settings, such as aspect-path and in-path will be stored
      in a "org.eclipse.ajdt.ui.prefs" file. These files are for
      sharing settings, they are not designed to be edited by hand -
      any such edits are likely to be overwritten.</p>
  </tr>


  <tr>
    <td colspan="2">
      <hr>

    </td>
  </tr>

  <tr>
    <td width="30%" valign="top" align="left">
      <p align="right"><b>Incremental compilation</b></td>
    <td width="70%" valign="top">

      <p>Incremental compilation is now set as the default mode of
      operation. Both the generated class files and the structure
      model (used to display the advice markers, and populate the
      cross references view and visualiser etc) should be
      incrementally updated as required. Work has also been done to
      improve the performance of incremental builds, particularly in
      the case of simple changes to classes. The main remaining
      limitation relates to project dependencies - an incremental
      build of one project will trigger a <b>full</b> build of
      dependent projects (because it doesn't know what has changed in
      the first project). The only workaround for now is to close the
      dependent projects, so that you get fast incremental builds of
      the one project you are currently working on.</p>

  </tr>

  <tr>
    <td colspan="2">
      <hr>
    </td>
  </tr>

  <tr>
    <td width="30%" valign="top" align="left">
      <p align="right"><b>Updated project wizard</b></td>
    <td width="70%" valign="top">

      <p>The "New AspectJ Project" wizard has been updated to match
      the current appearance and functionality of the wizard which
      creates new Java projects. This includs the option to create
      separate source and output folders.</p>

      <img src="newproject.png" width="366" height="461">

    </td>
  </tr>

  <tr>
    <td colspan="2">
      <hr>
    </td>
  </tr>

  <tr>
    <td width="30%" valign="top" align="left">
      <p align="right"><b>Plugin builds</b></td>
    <td width="70%" valign="top">

      <p>If you have an AspectJ plug-in project, you can now generate
      a build.xml file that can build the project correctly, using the
      <code>iajc</code> ant task. This operation is available by
      right-clicking on your plugin.xml file and selecting <b>PDE
      tools &gt; Create Ant Build File with AspectJ support.</b></p>

     </td>
  </tr>

  <tr>
    <td colspan="2">
      <hr>
    </td>
  </tr>

  <tr>
    <td width="30%" valign="top" align="left">
      <p align="right"><b>Builder change</b></td>
    <td width="70%" valign="top">

      <p>The project builder that AJDT registers with Eclipse has been
      moved from the <code>org.eclipse.ajdt.ui</code> plugin to
      <code>org.eclipse.ajdt.core.</code> This means that the builder
      id has changed from <code>org.eclipse.ajdt.ui.ajbuilder</code>
      to <code>org.eclipse.ajdt.core.ajbuilder.</code> This should in
      general be a transparent change - an existing project will cause
      the old builder to run, but that has been replaced by a
      migration builder which updates the project settings to the new
      id, and then triggers a rebuild. One issue to be aware of
      relates to the sharing of projects via CVS etc. After the
      migration builder has run, the <code>.project</code> file will
      be updated, and so if this is then committed to the repository,
      and checked out elsewhere using an earlier version of AJDT, it
      won't build because the earlier version of AJDT will not contain
      a builder with the new id. Therefore if you are sharing projects
      with people who might be using older versions of AJDT, you
      should not commit the updated <code>.project</code> file.</p

     </td>
  </tr>

  <tr>
    <td colspan="2">
      <hr>
    </td>
  </tr>

  <tr>
    <td width="30%" valign="top" align="left">
      <p align="right"><b>Bug fixes</b></td>
    <td width="70%" valign="top">

      <p>As usual this release also contains a number of bug fixes. The full
      list is available in

<a href="https://bugs.eclipse.org/bugs/buglist.cgi?short_desc_type=allwordssubstr&short_desc=&product=AJDT&target_milestone=1.2.0+M3&long_desc_type=allwordssubstr&long_desc=&bug_file_loc_type=allwordssubstr&bug_file_loc=&keywords_type=allwords&keywords=&bug_status=RESOLVED&bug_status=VERIFIED&bug_status=CLOSED&resolution=FIXED&bug_severity=blocker&bug_severity=critical&bug_severity=major&bug_severity=normal&bug_severity=minor&bug_severity=trivial&emailtype1=substring&email1=&emailtype2=substring&email2=&bugidtype=include&bug_id=&votes=&changedin=&chfieldfrom=&chfieldto=Now&chfieldvalue=&cmdtype=doit&order=Reuse+same+sort+as+last+time&field0-0-0=noop&type0-0-0=noop&value0-0-0=">Bugzilla.</a>

The more notable ones are:

<ul>

<li><a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=74426">74426</a> deleting aj files does not work in package explorer

<li><a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=78182">78182</a> editor tabs for .aj files are not marked with an error

<li><a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=78579">78579</a> build does not handle resource files automatically

<li><a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=80920">80920</a> The visualiser menu is reset using the Resources and Markers provider

<li><a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=80923">80923</a> ajdoc doesn't work with IBM's sdk

<li><a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=83082">83082</a> NullPointerException from the Cross Reference view

<li><a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=84310">84310</a> Non-deterministic selection of build configurations

<li><a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=84967">84967</a> Headless build process fails

<li><a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=86941">86941</a> "Cleaning" project does not work

</ul>
</p>


     </td>
  </tr>

  <tr>

    <td colspan="2">
      <hr>
    </td>
  </tr>

  <tr>
    <td width="30%" valign="top" align="left">
      <p align="right"><b>Previous releases</b></td>
    <td width="70%" valign="top">

      <p>See also information about the previous releases:</p>

      <p><a href="../whatsnew120M2/newnoteworthy.html">AJDT v1.2.0 M2 - New
      and Noteworthy</a></p>

      <p><a href="../whatsnew120M1/newnoteworthy.html">AJDT v1.2.0 M1 - New
      and Noteworthy</a></p>
     </td>
  </tr>

  <tr>

    <td colspan="2">
      <hr>
    </td>
  </tr>

</table>

  </body>
</html>
